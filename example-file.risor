#!/usr/bin/env risor

var str = 'foo\nmoo{123} bar'
const num = 123
num2 := 070
num2 += 0xF0
var arr = [1, 2, 3]
arr[1] = 5
const TRUE = true

func yq_eval(file, expr="") {
	cmd := exec.command("yq", "eval", expr, file)
	try(cmd.run, "")
	if cmd.stderr {
		print('YQ eval failed.\n$ yq eval `{expr}` {file}\n{cmd.stderr}')
		error("failed yq command")
	}
	return cmd.stdout
}

